<script>
    function accionEspacio(accion, aula, asignatura, id) {
        if (accion !== 'A' || (($('#nuevo_aula').val() !== "0") && ($('#nuevo_asignatura').val() !== "0"))) {
            $('#accion_espacio').val(accion);
            $('#aula_espacio').val(aula);
            $('#asignatura_espacio').val(asignatura);
            $('#id_espacio').val(id);
            $('#espaciosForm').submit();
        }
    }
</script>
<div class="modal fade show" id="cardEspacios-modal" tabindex="-1" role="dialog" aria-labelledby="cardEspacios-modal"
     style="display: none">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header theme-espacios text-white">
                <h5 class="modal-title mb-0">
                    <span th:text="${espacio.dia}"></span>
                    <span th:text="${espacio.hora}"></span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>

            </div>
            <div class="modal-body">
                <div th:unless="${espacio.aula1a != null or espacio.aula1b != null or
									             espacio.aula2a != null or espacio.aula2b != null or 
									             espacio.aula3a != null or espacio.aula3b != null or 
									             espacio.aula4a != null or espacio.aula4b != null or 
									             espacio.aula1cc != null or espacio.aula1ss != null or 
									             espacio.labcc != null or espacio.labid != null or 
									             espacio.desdoblea != null or espacio.desdobleb != null or 
									             espacio.desdoblec != null or espacio.aenlace != null or 
									             espacio.bajopatio != null or espacio.bajoespejos != null}"
                     class="alert alert-warning" role="alert">
                    No hay espacios asignados
                </div>

                <table th:if="${espacio.aula1a != null or espacio.aula1b != null or
													             espacio.aula2a != null or espacio.aula2b != null or 
													             espacio.aula3a != null or espacio.aula3b != null or 
													             espacio.aula4a != null or espacio.aula4b != null or 
													             espacio.aula1cc != null or espacio.aula1ss != null or 
													             espacio.labcc != null or espacio.labid != null or 
													             espacio.desdoblea != null or espacio.desdobleb != null or 
													             espacio.desdoblec != null or espacio.aenlace != null or 
													             espacio.bajopatio != null or espacio.bajoespejos != null}"
                       class="table table-sm">
                    <thead>
                    <tr>
                        <th>Aula</th>
                        <th>Asignatura</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:if="${espacio.aula1a != null}" class="align-middle">
                        <th>Aula 1A</th>
                        <td>
                            <select class="form-select" aria-label="select aulas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'aula1a', this.value, this.dataset.id )">
                                <option value="0"></option>
                                <option th:each=" asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.aula1a == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.aula1a}"
                            onclick="accionEspacio('E', 'aula1a', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr th:if="${espacio.aula1b != null}" class="align-middle">
                        <th>Aula 1B</th>
                        <td>
                            <select class="form-select" aria-label="select aulas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'aula1B', this.value, this.dataset.id )">
                                <option value="0"></option>
                                <option th:each=" asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.aula1b == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.aula1b}"
                            onclick="accionEspacio('E', 'aula1b', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr th:if="${espacio.aula2a != null}" class="align-middle">
                        <th>Aula 2A</th>
                        <td>
                            <select class="form-select" aria-label="select asignaturas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'aula2a', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.aula2a == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.aula2a}"
                            onclick="accionEspacio('E', 'aula2a', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr th:if="${espacio.aula2b != null}" class="align-middle">
                        <th>Aula 2B</th>
                        <td>
                            <select class="form-select" aria-label="select asignaturas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'aula2b', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.aula2b == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.aula2b}"
                            onclick="accionEspacio('E', 'aula2b', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr th:if="${espacio.aula3a != null}" class="align-middle">
                        <th>Aula 3A</th>
                        <td>
                            <select class="form-select" aria-label="select asignaturas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'aula3a', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.aula3a == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.aula3a}"
                            onclick="accionEspacio('E', 'aula3a', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr th:if="${espacio.aula3b != null}" class="align-middle">
                        <th>Aula 3B</th>
                        <td>
                            <select class="form-select" aria-label="select asignaturas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'aula3b', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.aula3b == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.aula3b}"
                            onclick="accionEspacio('E', 'aula3b', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr th:if="${espacio.aula4a != null}" class="align-middle">
                        <th>Aula 4A</th>
                        <td>
                            <select class="form-select" aria-label="select asignaturas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'aula4a', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.aula4a == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.aula4a}"
                            onclick="accionEspacio('E', 'aula4a', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr th:if="${espacio.aula4b != null}" class="align-middle">
                        <th>Aula 4B</th>
                        <td>
                            <select class="form-select" aria-label="select asignaturas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'aula4b', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.aula4b == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.aula4b}"
                            onclick="accionEspacio('E', 'aula4b', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr th:if="${espacio.aula1cc != null}" class="align-middle">
                        <th>Aula 1CC</th>
                        <td>
                            <select class="form-select" aria-label="select asignaturas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'aula1cc', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.aula1cc == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.aula1cc}"
                            onclick="accionEspacio('E', 'aula1cc', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr th:if="${espacio.aula1ss != null}" class="align-middle">
                        <th>Aula 1SS</th>
                        <td>
                            <select class="form-select" aria-label="select asignaturas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'aula1ss', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.aula1ss == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.aula1ss}"
                            onclick="accionEspacio('E', 'aula1ss', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr th:if="${espacio.labcc != null}" class="align-middle">
                        <th>Lab CC</th>
                        <td>
                            <select class="form-select" aria-label="select asignaturas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'labcc', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.labcc == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.labcc}"
                            onclick="accionEspacio('E', 'labcc', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr th:if="${espacio.labid != null}" class="align-middle">
                        <th>Lab ID</th>
                        <td>
                            <select class="form-select" aria-label="select asignaturas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'labid', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.labid == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.labid}"
                            onclick="accionEspacio('E', 'labid', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr th:if="${espacio.desdoblea != null}" class="align-middle">
                        <th>Desdoble A</th>
                        <td>
                            <select class="form-select" aria-label="select asignaturas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'desdoblea', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.desdoblea == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.desdoblea}"
                            onclick="accionEspacio('E', 'desdoblea', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr th:if="${espacio.desdobleb != null}" class="align-middle">
                        <th>Desdoble B</th>
                        <td>
                            <select class="form-select" aria-label="select asignaturas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'desdobleb', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.desdobleb == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.desdobleb}"
                            onclick="accionEspacio('E', 'desdobleb', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr th:if="${espacio.desdoblec != null}" class="align-middle">
                        <th>Desdoble C</th>
                        <td>
                            <select class="form-select" aria-label="select asignaturas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'desdoblec', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.desdoblec == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.desdoblec}"
                            onclick="accionEspacio('E', 'desdoblec', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr th:if="${espacio.aenlace != null}" class="align-middle">
                        <th>A enlace</th>
                        <td>
                            <select class="form-select" aria-label="select asignaturas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'aenlace', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.aenlace == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.aenlace}"
                            onclick="accionEspacio('E', 'aenlace', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr th:if="${espacio.bajopatio != null}" class="align-middle">
                        <td>
                            <select class="form-select" aria-label="select aulas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'bajopatio', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="aula : ${aulas}" th:text="${aula.nombre}" th:value="${aula.id}"
                                        th:selected="${'Bajo Patio' == aula.nombre}"></option>
                            </select>
                        </td>
                        <td>
                            <select class="form-select" aria-label="select asignaturas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'bajopatio', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.bajopatio == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.bajopatio}"
                            onclick="accionEspacio('E', 'bajopatio', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr th:if="${espacio.bajoespejos != null}" class="align-middle">
                        <td>
                            <select class="form-select" aria-label="select aulas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'bajoespejos', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="aula : ${aulas}" th:text="${aula.nombre}" th:value="${aula.id}"
                                        th:selected="${'Bajo Espejos' == aula.nombre}"></option>
                            </select>
                        </td>
                        <td>
                            <select class="form-select" aria-label="select asignaturas" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('M', 'bajoespejos', this.value, this.dataset.id)">
                                <option value="0"></option>
                                <option th:each="asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"
                                        th:selected="${espacio.bajoespejos == asignatura.nombre}"></option>
                            </select>
                        </td>
                        <td th:data-id="${espacio.id}" th:data-aula="${espacio.bajoespejos}"
                            onclick="accionEspacio('E', 'bajoespejos', this.dataset.aula, this.dataset.id)"
                            class="text-danger text-center"
                            data-toggle="tooltip" data-placement="top" title="Eliminar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-x-lg" viewBox="0 0 16 16">
                                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                            </svg>
                        </td>
                    </tr>
                    <tr class="align-middle">
                        <th>
                            <select class="form-select" aria-label="select aulas" id="nuevo_aula" th:data-id="${espacio.id}"
                                    onchange="accionEspacio('A', this.value, $('#nuevo_asignatura').val(), this.dataset.id)">
                                <option value="0">Aula</option>
                                <option th:each="aula : ${aulas}" th:text="${aula.nombre}" th:value="${aula.id}"></option>
                            </select>
                        </th>
                        <th>
                            <select class="form-select" aria-label="select asignaturas" th:data-id="${espacio.id}" id="nuevo_asignatura"
                                    onchange="accionEspacio('A', $('#nuevo_aula').val(), this.value, this.dataset.id)">
                                <option value="0">Asignatura</option>
                                <option th:each="asignatura : ${asignaturas}" th:text="${asignatura.nombre}"
                                        th:value="${asignatura.id}"></option>
                            </select>
                        </th>
                        <th></th>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

<form id="espaciosForm" action="/espacios/accion">
    <input type="hidden" id="accion_espacio" name="accion">
    <input type="hidden" id="aula_espacio" name="aula">
    <input type="hidden" id="asignatura_espacio" name="asignatura">
    <input type="hidden" id="id_espacio" name="id">
</form>
